make -C /lib/modules/4.3.0/build M=`pwd`
make[1]: Entering directory '/usr/src/linux-4.3'
  CC [M]  /home/cx-dir/git/ADFS/dafs_dir.o
In file included from include/linux/printk.h:6:0,
                 from include/linux/kernel.h:13,
                 from include/linux/list.h:8,
                 from include/linux/wait.h:6,
                 from include/linux/fs.h:5,
                 from /home/cx-dir/git/ADFS/dafs_dir.c:8:
/home/cx-dir/git/ADFS/nova.h: In function ‘nova_get_inode’:
include/linux/kern_levels.h:4:18: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 2 has type ‘long unsigned int’ [-Wformat=]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/nova.h:802:5: note: in expansion of macro ‘nova_dbg’
     nova_dbg("inode addr is %llu", sih->pi_addr);
     ^
In file included from include/linux/spinlock.h:274:0,
                 from include/linux/wait.h:8,
                 from include/linux/fs.h:5,
                 from /home/cx-dir/git/ADFS/dafs_dir.c:8:
/home/cx-dir/git/ADFS/dafs_dir.c: In function ‘get_dentry_path’:
/home/cx-dir/git/ADFS/dafs_dir.c:189:15: warning: passing argument 1 of ‘_raw_read_lock’ from incompatible pointer type [-Wincompatible-pointer-types]
     read_lock(&fs->lock);
               ^
include/linux/rwlock.h:65:41: note: in definition of macro ‘read_lock’
 #define read_lock(lock)  _raw_read_lock(lock)
                                         ^
In file included from include/linux/spinlock_api_smp.h:192:0,
                 from include/linux/spinlock.h:280,
                 from include/linux/wait.h:8,
                 from include/linux/fs.h:5,
                 from /home/cx-dir/git/ADFS/dafs_dir.c:8:
include/linux/rwlock_api_smp.h:18:17: note: expected ‘rwlock_t * {aka struct <anonymous> *}’ but argument is of type ‘spinlock_t * {aka struct spinlock *}’
 void __lockfunc _raw_read_lock(rwlock_t *lock)  __acquires(lock);
                 ^
/home/cx-dir/git/ADFS/dafs_dir.c:200:17: warning: passing argument 1 of ‘__raw_read_unlock’ from incompatible pointer type [-Wincompatible-pointer-types]
     read_unlock(&fs->lock);
                 ^
include/linux/rwlock_api_smp.h:84:50: note: in definition of macro ‘_raw_read_unlock’
 #define _raw_read_unlock(lock) __raw_read_unlock(lock)
                                                  ^
/home/cx-dir/git/ADFS/dafs_dir.c:200:5: note: in expansion of macro ‘read_unlock’
     read_unlock(&fs->lock);
     ^
include/linux/rwlock_api_smp.h:223:20: note: expected ‘rwlock_t * {aka struct <anonymous> *}’ but argument is of type ‘spinlock_t * {aka struct spinlock *}’
 static inline void __raw_read_unlock(rwlock_t *lock)
                    ^
In file included from include/linux/printk.h:6:0,
                 from include/linux/kernel.h:13,
                 from include/linux/list.h:8,
                 from include/linux/wait.h:6,
                 from include/linux/fs.h:5,
                 from /home/cx-dir/git/ADFS/dafs_dir.c:8:
/home/cx-dir/git/ADFS/dafs_dir.c: In function ‘dafs_add_dentry’:
include/linux/kern_levels.h:4:18: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 3 has type ‘long unsigned int’ [-Wformat=]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/dafs_dir.c:656:5: note: in expansion of macro ‘nova_dbg’
     nova_dbg("full name is %s, name len is %llu", phname, flen);
     ^
include/linux/kern_levels.h:4:18: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 3 has type ‘long unsigned int’ [-Wformat=]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/dafs_dir.c:756:9: note: in expansion of macro ‘nova_dbg’
         nova_dbg("%s:temlen is %llu, zone num is %d",__func__, tm_len, dzt_ei->dzt_eno);
         ^
/home/cx-dir/git/ADFS/dafs_dir.c: In function ‘dafs_find_direntry’:
include/linux/kern_levels.h:4:18: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 2 has type ‘size_t {aka long unsigned int}’ [-Wformat=]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/dafs_dir.c:827:5: note: in expansion of macro ‘nova_dbg’
     nova_dbg("strictly full name length is %llu", strlen(ph));
     ^
/home/cx-dir/git/ADFS/dafs_dir.c: In function ‘dafs_rebuild_dir_inode_tree’:
/home/cx-dir/git/ADFS/dafs_dir.c:892:6: warning: unused variable ‘ret’ [-Wunused-variable]
  int ret;
      ^
/home/cx-dir/git/ADFS/dafs_dir.c:890:6: warning: unused variable ‘next’ [-Wunused-variable]
  u64 next;
      ^
/home/cx-dir/git/ADFS/dafs_dir.c:884:30: warning: unused variable ‘curr_page’ [-Wunused-variable]
  struct nova_inode_log_page *curr_page;
                              ^
In file included from /home/cx-dir/git/ADFS/dafs_dir.c:16:0:
/home/cx-dir/git/ADFS/dafs_dir.c: In function ‘dafs_readdir’:
/home/cx-dir/git/ADFS/dafs_dir.c:2245:18: warning: passing argument 1 of ‘nova_error_mng’ from incompatible pointer type [-Wincompatible-pointer-types]
         nova_err("ei with dentry %llu not exist!\n", (u64)dentry->d_inode->i_ino);
                  ^
/home/cx-dir/git/ADFS/nova.h:71:56: note: in definition of macro ‘nova_err’
 #define nova_err(sb, s, args ...)       nova_error_mng(sb, s, ## args)
                                                        ^
In file included from /home/cx-dir/git/ADFS/dafs_dir.c:16:0:
/home/cx-dir/git/ADFS/nova.h:929:13: note: expected ‘struct super_block *’ but argument is of type ‘char *’
 extern void nova_error_mng(struct super_block *sb, const char *fmt, ...);
             ^
In file included from /home/cx-dir/git/ADFS/dafs_dir.c:16:0:
/home/cx-dir/git/ADFS/dafs_dir.c:2245:54: warning: passing argument 2 of ‘nova_error_mng’ makes pointer from integer without a cast [-Wint-conversion]
         nova_err("ei with dentry %llu not exist!\n", (u64)dentry->d_inode->i_ino);
                                                      ^
/home/cx-dir/git/ADFS/nova.h:71:60: note: in definition of macro ‘nova_err’
 #define nova_err(sb, s, args ...)       nova_error_mng(sb, s, ## args)
                                                            ^
In file included from /home/cx-dir/git/ADFS/dafs_dir.c:16:0:
/home/cx-dir/git/ADFS/nova.h:929:13: note: expected ‘const char *’ but argument is of type ‘long long unsigned int’
 extern void nova_error_mng(struct super_block *sb, const char *fmt, ...);
             ^
In file included from include/linux/printk.h:6:0,
                 from include/linux/kernel.h:13,
                 from include/linux/list.h:8,
                 from include/linux/wait.h:6,
                 from include/linux/fs.h:5,
                 from /home/cx-dir/git/ADFS/dafs_dir.c:8:
include/linux/kern_levels.h:4:18: warning: format ‘%lu’ expects argument of type ‘long unsigned int’, but argument 2 has type ‘u32 {aka unsigned int}’ [-Wformat=]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/dafs_dir.c:2286:3: note: in expansion of macro ‘nova_dbg’
   nova_dbg("pos %lu, type %d, ino %llu, "
   ^
/home/cx-dir/git/ADFS/dafs_dir.c:2337:1: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
 const struct file_operations dafs_dir_operations = {
 ^
/home/cx-dir/git/ADFS/dafs_dir.c:2346:1: error: expected declaration or statement at end of input
 };
 ^
/home/cx-dir/git/ADFS/dafs_dir.c:2337:30: warning: unused variable ‘dafs_dir_operations’ [-Wunused-variable]
 const struct file_operations dafs_dir_operations = {
                              ^
/home/cx-dir/git/ADFS/dafs_dir.c:2219:11: warning: unused variable ‘phname’ [-Wunused-variable]
     char *phname, *ph, *phn;
           ^
/home/cx-dir/git/ADFS/dafs_dir.c: At top level:
/home/cx-dir/git/ADFS/dafs_dir.c:2196:12: warning: ‘dafs_readdir’ defined but not used [-Wunused-function]
 static int dafs_readdir(struct file *file, struct dir_context *ctx)
            ^
scripts/Makefile.build:258: recipe for target '/home/cx-dir/git/ADFS/dafs_dir.o' failed
make[2]: *** [/home/cx-dir/git/ADFS/dafs_dir.o] Error 1
Makefile:1378: recipe for target '_module_/home/cx-dir/git/ADFS' failed
make[1]: *** [_module_/home/cx-dir/git/ADFS] Error 2
make[1]: Leaving directory '/usr/src/linux-4.3'
Makefile:10: recipe for target 'all' failed
make: *** [all] Error 2
