make -C /lib/modules/4.3.0/build M=`pwd`
make[1]: Entering directory '/usr/src/linux-4.3'
  CC [M]  /home/cx-dir/git/ADFS/dafs_dir.o
In file included from include/linux/printk.h:6:0,
                 from include/linux/kernel.h:13,
                 from include/linux/list.h:8,
                 from include/linux/wait.h:6,
                 from include/linux/fs.h:5,
                 from /home/cx-dir/git/ADFS/dafs_dir.c:8:
/home/cx-dir/git/ADFS/nova.h: In function ‘nova_get_inode’:
include/linux/kern_levels.h:4:18: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 2 has type ‘long unsigned int’ [-Wformat=]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/nova.h:802:5: note: in expansion of macro ‘nova_dbg’
     nova_dbg("inode addr is %llu", sih->pi_addr);
     ^
/home/cx-dir/git/ADFS/dafs_dir.c: In function ‘delete_dir_info’:
include/linux/kern_levels.h:4:18: warning: format ‘%d’ expects argument of type ‘int’, but argument 2 has type ‘u64 {aka long long unsigned int}’ [-Wformat=]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/dafs_dir.c:35:5: note: in expansion of macro ‘nova_dbg’
     nova_dbg("dir sub num is %d",dir_i->sub_num);
     ^
/home/cx-dir/git/ADFS/dafs_dir.c: In function ‘get_zone_path’:
/home/cx-dir/git/ADFS/dafs_dir.c:168:5: error: ‘name’ undeclared (first use in this function)
     name = kzalloc((sizeof(char)*phlen), GFP_KERNEL);
     ^
/home/cx-dir/git/ADFS/dafs_dir.c:168:5: note: each undeclared identifier is reported only once for each function it appears in
/home/cx-dir/git/ADFS/dafs_dir.c:163:18: warning: unused variable ‘namei’ [-Wunused-variable]
     char *path, *namei, *end="";
                  ^
In file included from include/linux/spinlock.h:274:0,
                 from include/linux/wait.h:8,
                 from include/linux/fs.h:5,
                 from /home/cx-dir/git/ADFS/dafs_dir.c:8:
/home/cx-dir/git/ADFS/dafs_dir.c: In function ‘get_dentry_path’:
/home/cx-dir/git/ADFS/dafs_dir.c:207:15: warning: passing argument 1 of ‘_raw_read_lock’ from incompatible pointer type [-Wincompatible-pointer-types]
     read_lock(&fs->lock);
               ^
include/linux/rwlock.h:65:41: note: in definition of macro ‘read_lock’
 #define read_lock(lock)  _raw_read_lock(lock)
                                         ^
In file included from include/linux/spinlock_api_smp.h:192:0,
                 from include/linux/spinlock.h:280,
                 from include/linux/wait.h:8,
                 from include/linux/fs.h:5,
                 from /home/cx-dir/git/ADFS/dafs_dir.c:8:
include/linux/rwlock_api_smp.h:18:17: note: expected ‘rwlock_t * {aka struct <anonymous> *}’ but argument is of type ‘spinlock_t * {aka struct spinlock *}’
 void __lockfunc _raw_read_lock(rwlock_t *lock)  __acquires(lock);
                 ^
/home/cx-dir/git/ADFS/dafs_dir.c:219:17: warning: passing argument 1 of ‘__raw_read_unlock’ from incompatible pointer type [-Wincompatible-pointer-types]
     read_unlock(&fs->lock);
                 ^
include/linux/rwlock_api_smp.h:84:50: note: in definition of macro ‘_raw_read_unlock’
 #define _raw_read_unlock(lock) __raw_read_unlock(lock)
                                                  ^
/home/cx-dir/git/ADFS/dafs_dir.c:219:5: note: in expansion of macro ‘read_unlock’
     read_unlock(&fs->lock);
     ^
include/linux/rwlock_api_smp.h:223:20: note: expected ‘rwlock_t * {aka struct <anonymous> *}’ but argument is of type ‘spinlock_t * {aka struct spinlock *}’
 static inline void __raw_read_unlock(rwlock_t *lock)
                    ^
In file included from include/linux/printk.h:6:0,
                 from include/linux/kernel.h:13,
                 from include/linux/list.h:8,
                 from include/linux/wait.h:6,
                 from include/linux/fs.h:5,
                 from /home/cx-dir/git/ADFS/dafs_dir.c:8:
/home/cx-dir/git/ADFS/dafs_dir.c: In function ‘dafs_add_dentry’:
include/linux/kern_levels.h:4:18: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 3 has type ‘long unsigned int’ [-Wformat=]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/dafs_dir.c:729:5: note: in expansion of macro ‘nova_dbg’
     nova_dbg("full name is %s, name len is %llu", phname, flen);
     ^
include/linux/kern_levels.h:4:18: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 3 has type ‘blkcnt_t {aka long unsigned int}’ [-Wformat=]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/dafs_dir.c:733:5: note: in expansion of macro ‘nova_dbg’
     nova_dbg("%s: dir i_blocks is %llu", __func__, dir->i_blocks);
     ^
include/linux/kern_levels.h:4:18: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 3 has type ‘long unsigned int’ [-Wformat=]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/dafs_dir.c:833:9: note: in expansion of macro ‘nova_dbg’
         nova_dbg("%s:temlen is %llu, zone num is %d",__func__, tm_len, dzt_ei->dzt_eno);
         ^
include/linux/kern_levels.h:4:18: warning: too many arguments for format [-Wformat-extra-args]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/dafs_dir.c:845:13: note: in expansion of macro ‘nova_dbg’
             nova_dbg("%s: par %s is not root, hash value is ", __func__, par_de->name, par_hn);
             ^
include/linux/kern_levels.h:4:18: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘u64 {aka long long unsigned int}’ [-Wformat=]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/dafs_dir.c:855:9: note: in expansion of macro ‘nova_dbg’
         nova_dbg("%s:sub num is %d", __func__, par_dir->sub_num);
         ^
/home/cx-dir/git/ADFS/dafs_dir.c: In function ‘dafs_find_direntry’:
include/linux/kern_levels.h:4:18: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 2 has type ‘size_t {aka long unsigned int}’ [-Wformat=]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/dafs_dir.c:916:5: note: in expansion of macro ‘nova_dbg’
     nova_dbg("strictly full name length is %llu", strlen(ph));
     ^
/home/cx-dir/git/ADFS/dafs_dir.c: In function ‘dafs_rebuild_dir_inode_tree’:
/home/cx-dir/git/ADFS/dafs_dir.c:981:6: warning: unused variable ‘ret’ [-Wunused-variable]
  int ret;
      ^
/home/cx-dir/git/ADFS/dafs_dir.c:979:6: warning: unused variable ‘next’ [-Wunused-variable]
  u64 next;
      ^
/home/cx-dir/git/ADFS/dafs_dir.c:973:30: warning: unused variable ‘curr_page’ [-Wunused-variable]
  struct nova_inode_log_page *curr_page;
                              ^
/home/cx-dir/git/ADFS/dafs_dir.c: In function ‘dafs_rm_dir’:
/home/cx-dir/git/ADFS/dafs_dir.c:1302:32: warning: unused variable ‘tlen’ [-Wunused-variable]
     unsigned long phlen, flen, tlen;
                                ^
In file included from include/linux/printk.h:6:0,
                 from include/linux/kernel.h:13,
                 from include/linux/list.h:8,
                 from include/linux/wait.h:6,
                 from include/linux/fs.h:5,
                 from /home/cx-dir/git/ADFS/dafs_dir.c:8:
/home/cx-dir/git/ADFS/dafs_dir.c: In function ‘dafs_empty_dir’:
include/linux/kern_levels.h:4:18: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘u64 {aka long long unsigned int}’ [-Wformat=]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/dafs_dir.c:1770:9: note: in expansion of macro ‘nova_dbg’
         nova_dbg("%s dafs find par dir, num is %d",__func__,par_dir->sub_num);
         ^
In file included from /home/cx-dir/git/ADFS/dafs_dir.c:16:0:
/home/cx-dir/git/ADFS/dafs_dir.c: In function ‘dafs_readdir’:
/home/cx-dir/git/ADFS/dafs_dir.c:2515:18: warning: passing argument 1 of ‘nova_error_mng’ from incompatible pointer type [-Wincompatible-pointer-types]
         nova_err("ei with dentry %llu not exist!\n", (u64)dentry->d_inode->i_ino);
                  ^
/home/cx-dir/git/ADFS/nova.h:71:56: note: in definition of macro ‘nova_err’
 #define nova_err(sb, s, args ...)       nova_error_mng(sb, s, ## args)
                                                        ^
In file included from /home/cx-dir/git/ADFS/dafs_dir.c:16:0:
/home/cx-dir/git/ADFS/nova.h:929:13: note: expected ‘struct super_block *’ but argument is of type ‘char *’
 extern void nova_error_mng(struct super_block *sb, const char *fmt, ...);
             ^
In file included from /home/cx-dir/git/ADFS/dafs_dir.c:16:0:
/home/cx-dir/git/ADFS/dafs_dir.c:2515:54: warning: passing argument 2 of ‘nova_error_mng’ makes pointer from integer without a cast [-Wint-conversion]
         nova_err("ei with dentry %llu not exist!\n", (u64)dentry->d_inode->i_ino);
                                                      ^
/home/cx-dir/git/ADFS/nova.h:71:60: note: in definition of macro ‘nova_err’
 #define nova_err(sb, s, args ...)       nova_error_mng(sb, s, ## args)
                                                            ^
In file included from /home/cx-dir/git/ADFS/dafs_dir.c:16:0:
/home/cx-dir/git/ADFS/nova.h:929:13: note: expected ‘const char *’ but argument is of type ‘long long unsigned int’
 extern void nova_error_mng(struct super_block *sb, const char *fmt, ...);
             ^
In file included from include/linux/printk.h:6:0,
                 from include/linux/kernel.h:13,
                 from include/linux/list.h:8,
                 from include/linux/wait.h:6,
                 from include/linux/fs.h:5,
                 from /home/cx-dir/git/ADFS/dafs_dir.c:8:
include/linux/kern_levels.h:4:18: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘u64 {aka long long unsigned int}’ [-Wformat=]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/dafs_dir.c:2538:5: note: in expansion of macro ‘nova_dbg’
     nova_dbg("%s:dir_subfile num is%d, zone addr is %llu",__func__,dir->sub_num, ei->dz_addr);
     ^
include/linux/kern_levels.h:4:18: warning: format ‘%lu’ expects argument of type ‘long unsigned int’, but argument 2 has type ‘u32 {aka unsigned int}’ [-Wformat=]
 #define KERN_SOH "\001"  /* ASCII Start Of Header */
                  ^
include/linux/kern_levels.h:13:19: note: in expansion of macro ‘KERN_SOH’
 #define KERN_INFO KERN_SOH "6" /* informational */
                   ^
include/linux/printk.h:259:9: note: in expansion of macro ‘KERN_INFO’
  printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)
         ^
/home/cx-dir/git/ADFS/nova.h:69:41: note: in expansion of macro ‘pr_info’
 #define nova_dbg(s, args ...)           pr_info(s, ## args)
                                         ^
/home/cx-dir/git/ADFS/dafs_dir.c:2556:3: note: in expansion of macro ‘nova_dbg’
   nova_dbg("pos %lu, type %d, ino %llu, "
   ^
/home/cx-dir/git/ADFS/dafs_dir.c:2489:11: warning: unused variable ‘phname’ [-Wunused-variable]
     char *phname, *ph, *phn;
           ^
scripts/Makefile.build:258: recipe for target '/home/cx-dir/git/ADFS/dafs_dir.o' failed
make[2]: *** [/home/cx-dir/git/ADFS/dafs_dir.o] Error 1
Makefile:1378: recipe for target '_module_/home/cx-dir/git/ADFS' failed
make[1]: *** [_module_/home/cx-dir/git/ADFS] Error 2
make[1]: Leaving directory '/usr/src/linux-4.3'
Makefile:10: recipe for target 'all' failed
make: *** [all] Error 2
